<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="188px" preserveAspectRatio="none" style="width:1185px;height:188px;background:#FFFFFF;" version="1.1" viewBox="0 0 1185 188" width="1185px" zoomAndPan="magnify"><defs/><g><!--class SensorService--><g id="elem_SensorService"><rect codeLine="3" fill="#F1F1F1" height="174.375" id="SensorService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="171" x="7" y="7"/><ellipse cx="40" cy="23" fill="#F1F1F1" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M39.7969,18.6719 L39.7969,22.2969 L40.7969,22.2969 Q42,22.2969 42.4844,21.8906 Q42.9688,21.4844 42.9688,20.4844 Q42.9688,19.4844 42.4844,19.0781 Q42,18.6719 40.7969,18.6719 L39.7969,18.6719 Z M37.3438,16.6094 L40.7031,16.6094 Q43.2656,16.6094 44.3906,17.5313 Q45.5156,18.4375 45.5156,20.4844 Q45.5156,22.5313 44.3906,23.4531 Q43.2656,24.3594 40.7031,24.3594 L39.7969,24.3594 L39.7969,29 L37.3438,29 L37.3438,16.6094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="58" y="27.8467">SensorService</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="177" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="56" x="18" y="55.9951">Sensor</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="29" y="78.292">Zero Offset &lt;- void</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="29" y="94.5889">ADC Raw -&gt; Uint32</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="29" y="110.8857">Power -&gt; Uint16</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29" y="127.1826">Accel Raw -&gt; float[3]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="29" y="143.4795">Gyro Raw -&gt; float[3]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="29" y="159.7764">Orientation -&gt; float[4]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="29" y="176.0732">Cadence -&gt; Uint16</text><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="72.4453"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="73.4453" y2="73.4453"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="65.2969" y2="73.4453"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="88.7422"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="89.7422" y2="89.7422"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="73.4453" y2="89.7422"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="105.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="106.0391" y2="106.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="89.7422" y2="106.0391"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="121.3359"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="122.3359" y2="122.3359"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="106.0391" y2="122.3359"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="137.6328"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="138.6328" y2="138.6328"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="122.3359" y2="138.6328"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="153.9297"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="154.9297" y2="154.9297"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="138.6328" y2="154.9297"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="22" y="170.2266"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="23" y1="171.2266" y2="171.2266"/><line style="stroke:#000000;stroke-width:1.0;" x1="15" x2="15" y1="154.9297" y2="171.2266"/></g><!--class CalibrationService--><g id="elem_CalibrationService"><rect codeLine="14" fill="#F1F1F1" height="92.8906" id="CalibrationService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212" x="212.5" y="47.75"/><ellipse cx="253.6" cy="63.75" fill="#F1F1F1" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M253.3969,59.4219 L253.3969,63.0469 L254.3969,63.0469 Q255.6,63.0469 256.0844,62.6406 Q256.5688,62.2344 256.5688,61.2344 Q256.5688,60.2344 256.0844,59.8281 Q255.6,59.4219 254.3969,59.4219 L253.3969,59.4219 Z M250.9438,57.3594 L254.3031,57.3594 Q256.8656,57.3594 257.9906,58.2813 Q259.1156,59.1875 259.1156,61.2344 Q259.1156,63.2813 257.9906,64.2031 Q256.8656,65.1094 254.3031,65.1094 L253.3969,65.1094 L253.3969,69.75 L250.9438,69.75 L250.9438,57.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="273.4" y="68.5967">CalibrationService</text><line style="stroke:#181818;stroke-width:0.5;" x1="213.5" x2="423.5" y1="79.75" y2="79.75"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="223.5" y="96.7451">Calibration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="234.5" y="119.042">GetCalibration -&gt; cal_data_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="234.5" y="135.3389">SetCalibration &lt;- cal_data_t</text><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="227.5" y="113.1953"/><line style="stroke:#000000;stroke-width:1.0;" x1="220.5" x2="228.5" y1="114.1953" y2="114.1953"/><line style="stroke:#000000;stroke-width:1.0;" x1="220.5" x2="220.5" y1="106.0469" y2="114.1953"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="227.5" y="129.4922"/><line style="stroke:#000000;stroke-width:1.0;" x1="220.5" x2="228.5" y1="130.4922" y2="130.4922"/><line style="stroke:#000000;stroke-width:1.0;" x1="220.5" x2="220.5" y1="114.1953" y2="130.4922"/></g><!--class CoreService--><g id="elem_CoreService"><rect codeLine="20" fill="#F1F1F1" height="92.8906" id="CoreService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243" x="459" y="47.75"/><ellipse cx="534.75" cy="63.75" fill="#F1F1F1" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M534.5469,59.4219 L534.5469,63.0469 L535.5469,63.0469 Q536.75,63.0469 537.2344,62.6406 Q537.7188,62.2344 537.7188,61.2344 Q537.7188,60.2344 537.2344,59.8281 Q536.75,59.4219 535.5469,59.4219 L534.5469,59.4219 Z M532.0938,57.3594 L535.4531,57.3594 Q538.0156,57.3594 539.1406,58.2813 Q540.2656,59.1875 540.2656,61.2344 Q540.2656,63.2813 539.1406,64.2031 Q538.0156,65.1094 535.4531,65.1094 L534.5469,65.1094 L534.5469,69.75 L532.0938,69.75 L532.0938,57.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="555.25" y="68.5967">CoreService</text><line style="stroke:#181818;stroke-width:0.5;" x1="460" x2="701" y1="79.75" y2="79.75"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38" x="470" y="96.7451">Core</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="481" y="119.042">GetState -&gt; state_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="481" y="135.3389">CoreRequest &lt;- core_request_t</text><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="474" y="113.1953"/><line style="stroke:#000000;stroke-width:1.0;" x1="467" x2="475" y1="114.1953" y2="114.1953"/><line style="stroke:#000000;stroke-width:1.0;" x1="467" x2="467" y1="106.0469" y2="114.1953"/><rect fill="#F1F1F1" height="2" style="stroke:#000000;stroke-width:1.0;" width="2" x="474" y="129.4922"/><line style="stroke:#000000;stroke-width:1.0;" x1="467" x2="475" y1="130.4922" y2="130.4922"/><line style="stroke:#000000;stroke-width:1.0;" x1="467" x2="467" y1="114.1953" y2="130.4922"/></g><!--class cal_data_t--><g id="elem_cal_data_t"><rect codeLine="26" fill="#F1F1F1" height="96.8906" id="cal_data_t" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="737" y="45.75"/><ellipse cx="755.15" cy="61.75" fill="#F1F1F1" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M754.6344,62.3125 Q752.775,61.6094 752.1188,60.8438 Q751.4781,60.0625 751.4781,58.75 Q751.4781,57.0625 752.5563,56.0938 Q753.6344,55.125 755.5094,55.125 Q756.3688,55.125 757.2125,55.3281 Q758.0719,55.5156 758.9156,55.9063 L758.9156,58.2969 Q758.1344,57.7344 757.3063,57.4531 Q756.4938,57.1563 755.6969,57.1563 Q754.8219,57.1563 754.3375,57.5156 Q753.8688,57.875 753.8688,58.5313 Q753.8688,59.0469 754.2125,59.3906 Q754.5563,59.7188 755.65,60.125 L756.7125,60.5313 Q758.1969,61.0781 758.9,61.9844 Q759.6188,62.8906 759.6188,64.2656 Q759.6188,66.1406 758.5094,67.0625 Q757.4,67.9844 755.15,67.9844 Q754.2281,67.9844 753.3063,67.7656 Q752.3844,67.5469 751.525,67.125 L751.525,64.5938 Q752.4938,65.2813 753.4156,65.625 Q754.3375,65.9688 755.2281,65.9688 Q756.1344,65.9688 756.6344,65.5625 Q757.1344,65.1406 757.1344,64.4063 Q757.1344,63.8438 756.7906,63.4375 Q756.4625,63.0156 755.8375,62.7656 L754.6344,62.3125 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="769.85" y="66.5967">cal_data_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="738" x2="843" y1="77.75" y2="77.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="743" y="94.7451">Uint128 guid</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="743" y="111.042">float slope</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="743" y="127.3389">float intercept</text><line style="stroke:#181818;stroke-width:0.5;" x1="738" x2="843" y1="134.6406" y2="134.6406"/></g><!--class state_t--><g id="elem_state_t"><rect codeLine="32" fill="#F1F1F1" height="129.4844" id="state_t" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="879.5" y="29.45"/><ellipse cx="909.35" cy="45.45" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M913.4594,51.45 L905.7406,51.45 L905.7406,39.0594 L913.4594,39.0594 L913.4594,41.2156 L908.1938,41.2156 L908.1938,43.8875 L912.9594,43.8875 L912.9594,46.0437 L908.1938,46.0437 L908.1938,49.2937 L913.4594,49.2937 L913.4594,51.45 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="926.65" y="50.2967">state_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="880.5" x2="990.5" y1="61.45" y2="61.45"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="885.5" y="78.4451">STARTUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="885.5" y="94.742">INITIALISED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="885.5" y="111.0389">AWAITING_CAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="885.5" y="127.3357">SIM_MODE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="885.5" y="143.6326">RUNNING</text><line style="stroke:#181818;stroke-width:0.5;" x1="880.5" x2="990.5" y1="150.9344" y2="150.9344"/></g><!--class core_request_t--><g id="elem_core_request_t"><rect codeLine="40" fill="#F1F1F1" height="80.5938" id="core_request_t" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="1027" y="53.9"/><ellipse cx="1048.75" cy="69.9" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1052.8594,75.9 L1045.1406,75.9 L1045.1406,63.5094 L1052.8594,63.5094 L1052.8594,65.6656 L1047.5938,65.6656 L1047.5938,68.3375 L1052.3594,68.3375 L1052.3594,70.4937 L1047.5938,70.4937 L1047.5938,73.7437 L1052.8594,73.7437 L1052.8594,75.9 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1064.25" y="74.7467">core_request_t</text><line style="stroke:#181818;stroke-width:0.5;" x1="1028" x2="1177" y1="85.9" y2="85.9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1033" y="102.8951">ENTER_SIM_MODE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1033" y="119.192">ENTER_REAL_MODE</text><line style="stroke:#181818;stroke-width:0.5;" x1="1028" x2="1177" y1="126.4937" y2="126.4937"/></g><!--link SensorService to CalibrationService--><!--link CalibrationService to CoreService--><!--link cal_data_t to state_t--><!--link state_t to core_request_t--><!--SRC=[TL9DQy904BtdLsolWeTgAJsKmXA313HA4YbK9AoRqGPYDjrib7xzzuwRhDcWpMddlJVpvYDtfMJx0oCAn1THiWR7AQLGWekSH51KGaOWZna7ykqG_0Q35iQN1duIyWPIaCLkLu4YpqDo55bgA3fnISXEPFX2LbcXnYD3BCK9f87l7ozwpY4t6RjSCBKURmmv_KIVVxY5pA1GJ6MYwEY72-so50eSeZFyjGPrMPvjfKw-cjRYh96de6m2otAM9obJB5564_Krk1bBqxCN4gvz4UmRHZYUdg0wFpgVipA4ZneglNwEOIARk36gyAvSMUwjYzx4w8diw_PWUckaoaK9Lemga1nANGkA-c0QQCj4CGtZrLA__S2FVJhp8s-YO_fA4GYcYKjdZTYV9_F5nDD1k0e292zr-wstvRqWziAabzT0eKTd3ORv_Nzrk7xFKhpuviPfdHlNjlJTBHp7sbYdCDitI-YOVlj_]--></g></svg>